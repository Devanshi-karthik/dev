(function () {
    'use strict';

    window['disableQuestionFormSubmit'] = function () {
        document.querySelectorAll('[msft-questionnaire-form-submit]').forEach(function (elm) {
            elm.setAttribute('disabled', '');
        });
    };
    window['enableQuestionFormSubmit'] = function () {
        document.querySelectorAll('[msft-questionnaire-form-submit]').forEach(function (elm) {
            elm.removeAttribute('disabled');
        });
    };
    var msftCallbackFunction = function (event) {
        event.preventDefault();
        var formData = new FormData(event.target);
        var object = {};
        formData.forEach(function (value, key) {
            if (!Reflect.has(object, key)) {
                object[key] = value;
                return;
            }
            if (!Array.isArray(object[key])) {
                object[key] = [object[key]];
            }
            object[key].push(value);
        });
        window.MSFTConsent.trigger('QuestionsFormSubmitWithoutMetaData', {
            data: object,
        });
    };
    var registerHandlers = function () {
        //handler for accept all button
        document.querySelectorAll('[msft-consent-accept-all]').forEach(function (elm) {
            elm.addEventListener('click', function () {
                window.MSFTConsent.trigger('AcceptAll');
                window.MSFTConsent.trigger('CloseConsentNotice');
            });
        });
        //handler for open preferences button
        document.querySelectorAll('[msft-consent-open-preferences]').forEach(function (elm) {
            elm.addEventListener('click', function () {
                window.MSFTConsent.trigger('ShowTemplate', { templateId: 'Preferences' });
                window.MSFTConsent.trigger('CloseConsentNotice');
            });
        });
        //handler for decline all button
        document.querySelectorAll('[msft-consent-decline-all]').forEach(function (elm) {
            elm.addEventListener('click', function () {
                window.MSFTConsent.trigger('RejectAll');
                window.MSFTConsent.trigger('CloseConsentNotice');
            });
        });
        //handler for save preferences button
        document.querySelectorAll('[msft-consent-save-preferences]').forEach(function (elm) {
            elm.addEventListener('click', function () {
                var trackerCategoriesSelectors = document.querySelectorAll('.msft-consent-tracker-category');
                var currentPreferences = { preferences: {} };
                trackerCategoriesSelectors.forEach(function (category) {
                    currentPreferences.preferences[category.getElementsByTagName('input')[0].id] = category.getElementsByTagName('input')[0].checked ? '1' : '0';
                });
                window.MSFTConsent.trigger('UpdateConsent', {
                    consent: currentPreferences,
                });
                window.MSFTConsent.trigger('CloseTemplate', {
                    templateId: 'Preferences',
                });
                window.MSFTConsent.trigger('CloseConsentNotice');
            });
        });
        //handler for close preferences button
        document.querySelectorAll('[msft-consent-close-preferences]').forEach(function (elm) {
            elm.addEventListener('click', function () {
                window.MSFTConsent.trigger('CloseTemplate', {
                    templateId: 'Preferences',
                });
                window.MSFTConsent.trigger('ShowConsentNotice');
            });
        });
        //handler for form submit
        document.querySelectorAll('[msft-questionnaire-form]').forEach(function (elm) {
            elm.addEventListener('submit', msftCallbackFunction);
        });
    };
    if (document.readyState !== 'loading') {
        registerHandlers();
    }
    else {
        document.addEventListener('DOMContentLoaded', function () {
            registerHandlers();
        });
    }

    var addProxyMethods = function () {
        Promise.resolve().then(function () { return anchorClickHandler; });
        Promise.resolve().then(function () { return proxy; }).then(function (_a) {
            var callMethod = _a.callMethod, sendMessage = _a.sendMessage;
            window.MSFTConsent = {};
            var methodsWithReturnType = ['getConsent', 'getTrackerCategories'];
            var methodsWithoutReturnType = ['trigger', 'showChangeSettingsModal'];
            methodsWithoutReturnType.forEach(function (methodName) {
                window.MSFTConsent[methodName] = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    sendMessage(methodName, args);
                };
            });
            methodsWithReturnType.forEach(function (methodName) {
                window.MSFTConsent[methodName] = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return callMethod(methodName, args);
                };
            });
        });
    };
    if (!msftData.renderTemplateWithoutIframe) {
        addProxyMethods();
    }

    var ConsentModelType;
    (function (ConsentModelType) {
        ConsentModelType["Explicit"] = "Explicit";
        ConsentModelType["Implicit"] = "Implicit";
    })(ConsentModelType || (ConsentModelType = {}));
    var PublicEvents;
    (function (PublicEvents) {
        PublicEvents["ConsentChanged"] = "ConsentChanged";
        PublicEvents["ShowConsentNotice"] = "ShowConsentNotice";
        PublicEvents["ShowFirstPage"] = "ShowFirstPage";
        PublicEvents["CloseConsentNotice"] = "CloseConsentNotice";
        PublicEvents["AcceptAll"] = "AcceptAll";
        PublicEvents["RejectAll"] = "RejectAll";
        PublicEvents["ShowTemplate"] = "ShowTemplate";
        PublicEvents["CloseTemplate"] = "CloseTemplate";
        PublicEvents["UpdateConsent"] = "UpdateConsent";
        PublicEvents["AnchorTagClicked"] = "AnchorTagClicked";
        PublicEvents["FetchConfig"] = "FetchConfig";
        PublicEvents["QuestionsFormSubmitWithoutMetaData"] = "QuestionsFormSubmitWithoutMetaData";
        PublicEvents["QuestionsFormSubmit"] = "QuestionsFormSubmit";
        PublicEvents["ShowPreferences"] = "ShowPreferences";
        PublicEvents["ConsentPreference"] = "MSFTConsentPreference";
    })(PublicEvents || (PublicEvents = {}));
    var Events;
    (function (Events) {
        Events["Init"] = "Init";
        Events["CoreConsentModelSelected"] = "CoreConsentModelSelected";
        Events["ConfigReady"] = "ConfigReady";
    })(Events || (Events = {}));
    var SDKMode;
    (function (SDKMode) {
        SDKMode["Default"] = "Default";
        SDKMode["HeadLess"] = "HeadLess";
    })(SDKMode || (SDKMode = {}));
    var StyleType;
    (function (StyleType) {
        StyleType["Url"] = "Url";
        StyleType["Text"] = "Text";
    })(StyleType || (StyleType = {}));
    var Preference;
    (function (Preference) {
        Preference["OFF"] = "0";
        Preference["ON"] = "1";
    })(Preference || (Preference = {}));
    var Cookie;
    (function (Cookie) {
        Cookie["Consent"] = "msft-consent";
    })(Cookie || (Cookie = {}));
    var RegisteredDivType;
    (function (RegisteredDivType) {
        RegisteredDivType["Script"] = "script";
        RegisteredDivType["IFrame"] = "iframe";
    })(RegisteredDivType || (RegisteredDivType = {}));
    var NoticeType;
    (function (NoticeType) {
        NoticeType["TrackerCategory"] = "trackerCategory";
        NoticeType["Questions"] = "Questions";
    })(NoticeType || (NoticeType = {}));
    var ErrorStrings;
    (function (ErrorStrings) {
        ErrorStrings["TemplateError"] = "<b>There is something wrong with template. Please check logs.</b>";
    })(ErrorStrings || (ErrorStrings = {}));
    var IntervalUnits;
    (function (IntervalUnits) {
        IntervalUnits["day"] = "day";
        IntervalUnits["week"] = "week";
        IntervalUnits["month"] = "month";
        IntervalUnits["year"] = "year";
    })(IntervalUnits || (IntervalUnits = {}));
    var QuestionType;
    (function (QuestionType) {
        QuestionType["Text"] = "Text";
        QuestionType["Email"] = "Email";
        QuestionType["Radio"] = "Radio";
        QuestionType["MultiSelect"] = "MultiSelect";
        QuestionType["Select"] = "Select";
        QuestionType["Date"] = "Date";
        QuestionType["PhoneNumber"] = "PhoneNumber";
        QuestionType["CreditCard"] = "CreditCard";
        QuestionType["Number"] = "Number";
        QuestionType["MultiLineText"] = "multiLineText";
    })(QuestionType || (QuestionType = {}));
    var QuestionValidation;
    (function (QuestionValidation) {
        QuestionValidation["Required"] = "Required";
    })(QuestionValidation || (QuestionValidation = {}));
    var QuestionField;
    (function (QuestionField) {
        QuestionField["Question"] = "question";
        QuestionField["Placeholder"] = "placeholder";
        QuestionField["Options"] = "options";
    })(QuestionField || (QuestionField = {}));
    var ModelKind;
    (function (ModelKind) {
        ModelKind["WebConsentModel"] = "WebConsentModel";
        ModelKind["QuestionModel"] = "DSRSubmissionModel";
    })(ModelKind || (ModelKind = {}));
    var PackageKind;
    (function (PackageKind) {
        PackageKind["WebConsentPackage"] = " WebConsentPackage";
        PackageKind["FIDESPackage"] = "FIDESPackage";
        PackageKind["DSRSubmissionPackage"] = "DSRSubmissionPackage";
    })(PackageKind || (PackageKind = {}));
    var Template;
    (function (Template) {
        Template["Preferences"] = "Preferences";
    })(Template || (Template = {}));

    var onclickHandler = function (e) {
        if (e.target &&
            e.target.nodeName.toLowerCase() === 'a') {
            var attributes = {};
            var attributeNames = e.target.getAttributeNames();
            e.preventDefault();
            e.stopPropagation();
            for (var i = 0; i < attributeNames.length; i++) {
                var attrName = attributeNames[i];
                attributes[attrName] =
                    e.target.getAttribute(attrName) || '';
            }
            window.MSFTConsent.trigger(PublicEvents.AnchorTagClicked, { attributes: attributes });
        }
    };
    // Options for the observer (which mutations to observe)
    var config = { childList: true, subtree: true };
    // Callback function to execute when mutations are observed
    var callback = function (mutationList) {
        mutationList.forEach(function (mutationRecord) {
            mutationRecord.addedNodes.forEach(function (addedNode) {
                if (addedNode.nodeName.toLowerCase() === 'a') {
                    addedNode.addEventListener('click', { handleEvent: onclickHandler });
                }
            });
        });
    };
    // Create an observer instance linked to the callback function
    var observer = new MutationObserver(callback);
    // Start observing the target node for configured mutations
    observer.observe(document.documentElement, config);

    var anchorClickHandler = /*#__PURE__*/Object.freeze({
        __proto__: null
    });

    var AsyncUtils = /** @class */ (function () {
        function AsyncUtils() {
        }
        AsyncUtils.deferred = function () {
            var defer = {};
            defer.promise = new Promise(function (res, rej) {
                defer.resolve = res;
                defer.reject = rej;
            });
            return defer;
        };
        return AsyncUtils;
    }());
    var AsyncUtils$1 = AsyncUtils;

    var promiseMap = {};
    var sendMessage = function (method, args, responseId) {
        if (parent) {
            parent.postMessage({ method: method, params: Object.values(args), responseId: responseId }, msftData.origin);
        }
    };
    var callMethod = function (method, args) {
        var responseId = "".concat(method, "-").concat(new Date().getTime());
        var deferred = AsyncUtils$1.deferred();
        promiseMap[responseId] = deferred;
        sendMessage(method, args, responseId);
        return deferred.promise;
    };
    window.onmessage = function (e) {
        var _a;
        if (e.origin === msftData.origin && ((_a = e === null || e === void 0 ? void 0 : e.data) === null || _a === void 0 ? void 0 : _a.responseId)) {
            e.data.error
                ? promiseMap[e.data.responseId].reject(e.data.error)
                : promiseMap[e.data.responseId].resolve(e.data.response);
        }
    };

    var proxy = /*#__PURE__*/Object.freeze({
        __proto__: null,
        sendMessage: sendMessage,
        callMethod: callMethod
    });

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJveHkubWluLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3Byb3h5L2F0dHJpYnV0ZUhhbmRsZXJzLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcm94eS9pbmRleC50cyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvY29yZS9jb25zdGFudHMvZW51bXMudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3Byb3h5L2FuY2hvckNsaWNrSGFuZGxlci50cyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvY29yZS91dGlscy9Bc3luY1V0aWxzLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcm94eS9wcm94eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIod2luZG93IGFzIGFueSlbJ2Rpc2FibGVRdWVzdGlvbkZvcm1TdWJtaXQnXSA9ICgpID0+IHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbXNmdC1xdWVzdGlvbm5haXJlLWZvcm0tc3VibWl0XScpLmZvckVhY2goZWxtID0+IHtcclxuICAgIGVsbS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuKHdpbmRvdyBhcyBhbnkpWydlbmFibGVRdWVzdGlvbkZvcm1TdWJtaXQnXSA9ICgpID0+IHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbXNmdC1xdWVzdGlvbm5haXJlLWZvcm0tc3VibWl0XScpLmZvckVhY2goZWxtID0+IHtcclxuICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBtc2Z0Q2FsbGJhY2tGdW5jdGlvbiA9IChldmVudDogYW55KSA9PiB7XHJcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShldmVudC50YXJnZXQpO1xyXG4gIGNvbnN0IG9iamVjdDogYW55ID0ge307XHJcbiAgZm9ybURhdGEuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgaWYgKCFSZWZsZWN0LmhhcyhvYmplY3QsIGtleSkpIHtcclxuICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdFtrZXldKSkge1xyXG4gICAgICBvYmplY3Rba2V5XSA9IFtvYmplY3Rba2V5XV07XHJcbiAgICB9XHJcbiAgICBvYmplY3Rba2V5XS5wdXNoKHZhbHVlKTtcclxuICB9KTtcclxuICB3aW5kb3cuTVNGVENvbnNlbnQudHJpZ2dlcignUXVlc3Rpb25zRm9ybVN1Ym1pdFdpdGhvdXRNZXRhRGF0YScsIHtcclxuICAgIGRhdGE6IG9iamVjdCxcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHJlZ2lzdGVySGFuZGxlcnMgPSAoKSA9PiB7XHJcbiAgLy9oYW5kbGVyIGZvciBhY2NlcHQgYWxsIGJ1dHRvblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1ttc2Z0LWNvbnNlbnQtYWNjZXB0LWFsbF0nKS5mb3JFYWNoKGVsbSA9PiB7XHJcbiAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5NU0ZUQ29uc2VudC50cmlnZ2VyKCdBY2NlcHRBbGwnKTtcclxuICAgICAgd2luZG93Lk1TRlRDb25zZW50LnRyaWdnZXIoJ0Nsb3NlQ29uc2VudE5vdGljZScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vaGFuZGxlciBmb3Igb3BlbiBwcmVmZXJlbmNlcyBidXR0b25cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbXNmdC1jb25zZW50LW9wZW4tcHJlZmVyZW5jZXNdJykuZm9yRWFjaChlbG0gPT4ge1xyXG4gICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB3aW5kb3cuTVNGVENvbnNlbnQudHJpZ2dlcignU2hvd1RlbXBsYXRlJywgeyB0ZW1wbGF0ZUlkOiAnUHJlZmVyZW5jZXMnIH0pO1xyXG4gICAgICB3aW5kb3cuTVNGVENvbnNlbnQudHJpZ2dlcignQ2xvc2VDb25zZW50Tm90aWNlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy9oYW5kbGVyIGZvciBkZWNsaW5lIGFsbCBidXR0b25cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbXNmdC1jb25zZW50LWRlY2xpbmUtYWxsXScpLmZvckVhY2goZWxtID0+IHtcclxuICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgd2luZG93Lk1TRlRDb25zZW50LnRyaWdnZXIoJ1JlamVjdEFsbCcpO1xyXG4gICAgICB3aW5kb3cuTVNGVENvbnNlbnQudHJpZ2dlcignQ2xvc2VDb25zZW50Tm90aWNlJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy9oYW5kbGVyIGZvciBzYXZlIHByZWZlcmVuY2VzIGJ1dHRvblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1ttc2Z0LWNvbnNlbnQtc2F2ZS1wcmVmZXJlbmNlc10nKS5mb3JFYWNoKGVsbSA9PiB7XHJcbiAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRyYWNrZXJDYXRlZ29yaWVzU2VsZWN0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICAgICAnLm1zZnQtY29uc2VudC10cmFja2VyLWNhdGVnb3J5JyxcclxuICAgICAgKTtcclxuICAgICAgY29uc3QgY3VycmVudFByZWZlcmVuY2VzOiBhbnkgPSB7IHByZWZlcmVuY2VzOiB7fSB9O1xyXG4gICAgICB0cmFja2VyQ2F0ZWdvcmllc1NlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjYXRlZ29yeSkge1xyXG4gICAgICAgIGN1cnJlbnRQcmVmZXJlbmNlcy5wcmVmZXJlbmNlc1tcclxuICAgICAgICAgIGNhdGVnb3J5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdLmlkXHJcbiAgICAgICAgXSA9IGNhdGVnb3J5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbnB1dCcpWzBdLmNoZWNrZWQgPyAnMScgOiAnMCc7XHJcbiAgICAgIH0pO1xyXG4gICAgICB3aW5kb3cuTVNGVENvbnNlbnQudHJpZ2dlcignVXBkYXRlQ29uc2VudCcsIHtcclxuICAgICAgICBjb25zZW50OiBjdXJyZW50UHJlZmVyZW5jZXMsXHJcbiAgICAgIH0pO1xyXG4gICAgICB3aW5kb3cuTVNGVENvbnNlbnQudHJpZ2dlcignQ2xvc2VUZW1wbGF0ZScsIHtcclxuICAgICAgICB0ZW1wbGF0ZUlkOiAnUHJlZmVyZW5jZXMnLFxyXG4gICAgICB9KTtcclxuICAgICAgd2luZG93Lk1TRlRDb25zZW50LnRyaWdnZXIoJ0Nsb3NlQ29uc2VudE5vdGljZScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8vaGFuZGxlciBmb3IgY2xvc2UgcHJlZmVyZW5jZXMgYnV0dG9uXHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW21zZnQtY29uc2VudC1jbG9zZS1wcmVmZXJlbmNlc10nKS5mb3JFYWNoKGVsbSA9PiB7XHJcbiAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5NU0ZUQ29uc2VudC50cmlnZ2VyKCdDbG9zZVRlbXBsYXRlJywge1xyXG4gICAgICAgIHRlbXBsYXRlSWQ6ICdQcmVmZXJlbmNlcycsXHJcbiAgICAgIH0pO1xyXG4gICAgICB3aW5kb3cuTVNGVENvbnNlbnQudHJpZ2dlcignU2hvd0NvbnNlbnROb3RpY2UnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvL2hhbmRsZXIgZm9yIGZvcm0gc3VibWl0XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW21zZnQtcXVlc3Rpb25uYWlyZS1mb3JtXScpLmZvckVhY2goZWxtID0+IHtcclxuICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBtc2Z0Q2FsbGJhY2tGdW5jdGlvbik7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnKSB7XHJcbiAgcmVnaXN0ZXJIYW5kbGVycygpO1xyXG59IGVsc2Uge1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICByZWdpc3RlckhhbmRsZXJzKCk7XHJcbiAgfSk7XHJcbn1cclxuIiwiaW1wb3J0ICcuL2F0dHJpYnV0ZUhhbmRsZXJzJztcclxuXHJcbmNvbnN0IGFkZFByb3h5TWV0aG9kcyA9ICgpID0+IHtcclxuICBpbXBvcnQoJy4vYW5jaG9yQ2xpY2tIYW5kbGVyJyk7XHJcblxyXG4gIGltcG9ydCgnLi9wcm94eScpLnRoZW4oKHsgY2FsbE1ldGhvZCwgc2VuZE1lc3NhZ2UgfSkgPT4ge1xyXG4gICAgd2luZG93Lk1TRlRDb25zZW50ID0ge30gYXMgYW55O1xyXG5cclxuICAgIGNvbnN0IG1ldGhvZHNXaXRoUmV0dXJuVHlwZSA9IFsnZ2V0Q29uc2VudCcsICdnZXRUcmFja2VyQ2F0ZWdvcmllcyddO1xyXG4gICAgY29uc3QgbWV0aG9kc1dpdGhvdXRSZXR1cm5UeXBlID0gWyd0cmlnZ2VyJywgJ3Nob3dDaGFuZ2VTZXR0aW5nc01vZGFsJ107XHJcblxyXG4gICAgbWV0aG9kc1dpdGhvdXRSZXR1cm5UeXBlLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XHJcbiAgICAgICh3aW5kb3cuTVNGVENvbnNlbnQgYXMgYW55KVttZXRob2ROYW1lXSA9ICguLi5hcmdzOiBhbnlbXSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHNlbmRNZXNzYWdlKG1ldGhvZE5hbWUsIGFyZ3MpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWV0aG9kc1dpdGhSZXR1cm5UeXBlLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XHJcbiAgICAgICh3aW5kb3cuTVNGVENvbnNlbnQgYXMgYW55KVttZXRob2ROYW1lXSA9IChcclxuICAgICAgICAuLi5hcmdzOiBhbnlbXVxyXG4gICAgICApOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgICAgIHJldHVybiBjYWxsTWV0aG9kKG1ldGhvZE5hbWUsIGFyZ3MpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5pZiAoIW1zZnREYXRhLnJlbmRlclRlbXBsYXRlV2l0aG91dElmcmFtZSkge1xyXG4gIGFkZFByb3h5TWV0aG9kcygpO1xyXG59XHJcbiIsImV4cG9ydCBlbnVtIENvbnNlbnRNb2RlbFR5cGUge1xyXG4gIEV4cGxpY2l0ID0gJ0V4cGxpY2l0JyxcclxuICBJbXBsaWNpdCA9ICdJbXBsaWNpdCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFB1YmxpY0V2ZW50cyB7XHJcbiAgQ29uc2VudENoYW5nZWQgPSAnQ29uc2VudENoYW5nZWQnLFxyXG4gIFNob3dDb25zZW50Tm90aWNlID0gJ1Nob3dDb25zZW50Tm90aWNlJyxcclxuICBTaG93Rmlyc3RQYWdlID0gJ1Nob3dGaXJzdFBhZ2UnLFxyXG4gIENsb3NlQ29uc2VudE5vdGljZSA9ICdDbG9zZUNvbnNlbnROb3RpY2UnLFxyXG4gIEFjY2VwdEFsbCA9ICdBY2NlcHRBbGwnLFxyXG4gIFJlamVjdEFsbCA9ICdSZWplY3RBbGwnLFxyXG4gIFNob3dUZW1wbGF0ZSA9ICdTaG93VGVtcGxhdGUnLFxyXG4gIENsb3NlVGVtcGxhdGUgPSAnQ2xvc2VUZW1wbGF0ZScsXHJcbiAgVXBkYXRlQ29uc2VudCA9ICdVcGRhdGVDb25zZW50JyxcclxuICBBbmNob3JUYWdDbGlja2VkID0gJ0FuY2hvclRhZ0NsaWNrZWQnLFxyXG4gIEZldGNoQ29uZmlnID0gJ0ZldGNoQ29uZmlnJyxcclxuICBRdWVzdGlvbnNGb3JtU3VibWl0V2l0aG91dE1ldGFEYXRhID0gJ1F1ZXN0aW9uc0Zvcm1TdWJtaXRXaXRob3V0TWV0YURhdGEnLFxyXG4gIFF1ZXN0aW9uc0Zvcm1TdWJtaXQgPSAnUXVlc3Rpb25zRm9ybVN1Ym1pdCcsXHJcbiAgU2hvd1ByZWZlcmVuY2VzID0gJ1Nob3dQcmVmZXJlbmNlcycsXHJcbiAgQ29uc2VudFByZWZlcmVuY2UgPSAnTVNGVENvbnNlbnRQcmVmZXJlbmNlJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRXZlbnRzIHtcclxuICBJbml0ID0gJ0luaXQnLFxyXG4gIENvcmVDb25zZW50TW9kZWxTZWxlY3RlZCA9ICdDb3JlQ29uc2VudE1vZGVsU2VsZWN0ZWQnLFxyXG4gIENvbmZpZ1JlYWR5ID0gJ0NvbmZpZ1JlYWR5JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gU0RLTW9kZSB7XHJcbiAgRGVmYXVsdCA9ICdEZWZhdWx0JyxcclxuICBIZWFkTGVzcyA9ICdIZWFkTGVzcycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFN0eWxlVHlwZSB7XHJcbiAgVXJsID0gJ1VybCcsXHJcbiAgVGV4dCA9ICdUZXh0JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUHJlZmVyZW5jZSB7XHJcbiAgT0ZGID0gJzAnLFxyXG4gIE9OID0gJzEnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBDb29raWUge1xyXG4gIENvbnNlbnQgPSAnbXNmdC1jb25zZW50JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUmVnaXN0ZXJlZERpdlR5cGUge1xyXG4gIFNjcmlwdCA9ICdzY3JpcHQnLFxyXG4gIElGcmFtZSA9ICdpZnJhbWUnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBOb3RpY2VUeXBlIHtcclxuICBUcmFja2VyQ2F0ZWdvcnkgPSAndHJhY2tlckNhdGVnb3J5JyxcclxuICBRdWVzdGlvbnMgPSAnUXVlc3Rpb25zJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRXJyb3JTdHJpbmdzIHtcclxuICBUZW1wbGF0ZUVycm9yID0gJzxiPlRoZXJlIGlzIHNvbWV0aGluZyB3cm9uZyB3aXRoIHRlbXBsYXRlLiBQbGVhc2UgY2hlY2sgbG9ncy48L2I+JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gSW50ZXJ2YWxVbml0cyB7XHJcbiAgZGF5ID0gJ2RheScsXHJcbiAgd2VlayA9ICd3ZWVrJyxcclxuICBtb250aCA9ICdtb250aCcsXHJcbiAgeWVhciA9ICd5ZWFyJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUXVlc3Rpb25UeXBlIHtcclxuICBUZXh0ID0gJ1RleHQnLFxyXG4gIEVtYWlsID0gJ0VtYWlsJyxcclxuICBSYWRpbyA9ICdSYWRpbycsXHJcbiAgTXVsdGlTZWxlY3QgPSAnTXVsdGlTZWxlY3QnLFxyXG4gIFNlbGVjdCA9ICdTZWxlY3QnLFxyXG4gIERhdGUgPSAnRGF0ZScsXHJcbiAgUGhvbmVOdW1iZXIgPSAnUGhvbmVOdW1iZXInLFxyXG4gIENyZWRpdENhcmQgPSAnQ3JlZGl0Q2FyZCcsXHJcbiAgTnVtYmVyID0gJ051bWJlcicsXHJcbiAgTXVsdGlMaW5lVGV4dCA9ICdtdWx0aUxpbmVUZXh0JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUXVlc3Rpb25WYWxpZGF0aW9uIHtcclxuICBSZXF1aXJlZCA9ICdSZXF1aXJlZCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFF1ZXN0aW9uRmllbGQge1xyXG4gIFF1ZXN0aW9uID0gJ3F1ZXN0aW9uJyxcclxuICBQbGFjZWhvbGRlciA9ICdwbGFjZWhvbGRlcicsXHJcbiAgT3B0aW9ucyA9ICdvcHRpb25zJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gTW9kZWxLaW5kIHtcclxuICBXZWJDb25zZW50TW9kZWwgPSAnV2ViQ29uc2VudE1vZGVsJyxcclxuICBRdWVzdGlvbk1vZGVsID0gJ0RTUlN1Ym1pc3Npb25Nb2RlbCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFBhY2thZ2VLaW5kIHtcclxuICBXZWJDb25zZW50UGFja2FnZSA9ICcgV2ViQ29uc2VudFBhY2thZ2UnLFxyXG4gIEZJREVTUGFja2FnZSA9ICdGSURFU1BhY2thZ2UnLFxyXG4gIERTUlN1Ym1pc3Npb25QYWNrYWdlID0gJ0RTUlN1Ym1pc3Npb25QYWNrYWdlJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gVGVtcGxhdGUge1xyXG4gIFByZWZlcmVuY2VzID0gJ1ByZWZlcmVuY2VzJyxcclxufVxyXG4iLCJpbXBvcnQgeyBQdWJsaWNFdmVudHMgfSBmcm9tICdjb3JlL2NvbnN0YW50cy9lbnVtcyc7XHJcblxyXG5jb25zdCBvbmNsaWNrSGFuZGxlciA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgaWYgKFxyXG4gICAgZS50YXJnZXQgJiZcclxuICAgIChlLnRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudCkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnXHJcbiAgKSB7XHJcbiAgICBjb25zdCBhdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcbiAgICBjb25zdCBhdHRyaWJ1dGVOYW1lcyA9IChlLnRhcmdldCBhcyBIVE1MQW5jaG9yRWxlbWVudCkuZ2V0QXR0cmlidXRlTmFtZXMoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZU5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGF0dHJOYW1lID0gYXR0cmlidXRlTmFtZXNbaV07XHJcbiAgICAgIGF0dHJpYnV0ZXNbYXR0ck5hbWVdID1cclxuICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmdldEF0dHJpYnV0ZShhdHRyTmFtZSkgfHwgJyc7XHJcbiAgICB9XHJcbiAgICB3aW5kb3cuTVNGVENvbnNlbnQudHJpZ2dlcihQdWJsaWNFdmVudHMuQW5jaG9yVGFnQ2xpY2tlZCwgeyBhdHRyaWJ1dGVzIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE9wdGlvbnMgZm9yIHRoZSBvYnNlcnZlciAod2hpY2ggbXV0YXRpb25zIHRvIG9ic2VydmUpXHJcbmNvbnN0IGNvbmZpZyA9IHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XHJcblxyXG4vLyBDYWxsYmFjayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gbXV0YXRpb25zIGFyZSBvYnNlcnZlZFxyXG5jb25zdCBjYWxsYmFjazogTXV0YXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uIChtdXRhdGlvbkxpc3QpIHtcclxuICBtdXRhdGlvbkxpc3QuZm9yRWFjaChtdXRhdGlvblJlY29yZCA9PiB7XHJcbiAgICBtdXRhdGlvblJlY29yZC5hZGRlZE5vZGVzLmZvckVhY2goYWRkZWROb2RlID0+IHtcclxuICAgICAgaWYgKGFkZGVkTm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYScpIHtcclxuICAgICAgICBhZGRlZE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB7IGhhbmRsZUV2ZW50OiBvbmNsaWNrSGFuZGxlciB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBDcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UgbGlua2VkIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcclxuXHJcbi8vIFN0YXJ0IG9ic2VydmluZyB0aGUgdGFyZ2V0IG5vZGUgZm9yIGNvbmZpZ3VyZWQgbXV0YXRpb25zXHJcbm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBjb25maWcpO1xyXG4iLCJleHBvcnQgaW50ZXJmYWNlIElEZWZlcnJlZDxUPiB7XHJcbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcclxuICByZXNvbHZlOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcclxuICByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzeW5jVXRpbHMge1xyXG4gIHB1YmxpYyBzdGF0aWMgZGVmZXJyZWQ8VD4oKTogSURlZmVycmVkPFQ+IHtcclxuICAgIGNvbnN0IGRlZmVyID0ge30gYXMgSURlZmVycmVkPFQ+O1xyXG4gICAgZGVmZXIucHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXMsIHJlaikgPT4ge1xyXG4gICAgICBkZWZlci5yZXNvbHZlID0gcmVzO1xyXG4gICAgICBkZWZlci5yZWplY3QgPSByZWo7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZGVmZXI7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBBc3luY1V0aWxzLCB7IElEZWZlcnJlZCB9IGZyb20gJ2NvcmUvdXRpbHMvQXN5bmNVdGlscyc7XHJcblxyXG5jb25zdCBwcm9taXNlTWFwOiB7IFtrZXk6IHN0cmluZ106IElEZWZlcnJlZDxhbnk+IH0gPSB7fTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZW5kTWVzc2FnZSA9IChcclxuICBtZXRob2Q6IHN0cmluZyxcclxuICBhcmdzOiBhbnlbXSxcclxuICByZXNwb25zZUlkPzogc3RyaW5nLFxyXG4pID0+IHtcclxuICBpZiAocGFyZW50KSB7XHJcbiAgICBwYXJlbnQucG9zdE1lc3NhZ2UoXHJcbiAgICAgIHsgbWV0aG9kOiBtZXRob2QsIHBhcmFtczogT2JqZWN0LnZhbHVlcyhhcmdzKSwgcmVzcG9uc2VJZCB9LFxyXG4gICAgICBtc2Z0RGF0YS5vcmlnaW4sXHJcbiAgICApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYWxsTWV0aG9kID0gKG1ldGhvZDogc3RyaW5nLCBhcmdzOiBhbnlbXSk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgY29uc3QgcmVzcG9uc2VJZCA9IGAke21ldGhvZH0tJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX1gO1xyXG4gIGNvbnN0IGRlZmVycmVkID0gQXN5bmNVdGlscy5kZWZlcnJlZDxhbnk+KCk7XHJcbiAgcHJvbWlzZU1hcFtyZXNwb25zZUlkXSA9IGRlZmVycmVkO1xyXG4gIHNlbmRNZXNzYWdlKG1ldGhvZCwgYXJncywgcmVzcG9uc2VJZCk7XHJcbiAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbn07XHJcblxyXG53aW5kb3cub25tZXNzYWdlID0gZSA9PiB7XHJcbiAgaWYgKGUub3JpZ2luID09PSBtc2Z0RGF0YS5vcmlnaW4gJiYgZT8uZGF0YT8ucmVzcG9uc2VJZCkge1xyXG4gICAgZS5kYXRhLmVycm9yXHJcbiAgICAgID8gcHJvbWlzZU1hcFtlLmRhdGEucmVzcG9uc2VJZF0ucmVqZWN0KGUuZGF0YS5lcnJvcilcclxuICAgICAgOiBwcm9taXNlTWFwW2UuZGF0YS5yZXNwb25zZUlkXS5yZXNvbHZlKGUuZGF0YS5yZXNwb25zZSk7XHJcbiAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiQXN5bmNVdGlscyJdLCJtYXBwaW5ncyI6Ijs7O0lBQUMsTUFBYyxDQUFDLDJCQUEyQixDQUFDLEdBQUc7UUFDN0MsUUFBUSxDQUFDLGdCQUFnQixDQUFDLGtDQUFrQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUEsR0FBRztZQUN2RSxHQUFHLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUNsQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUM7SUFFRCxNQUFjLENBQUMsMEJBQTBCLENBQUMsR0FBRztRQUM1QyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0NBQWtDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHO1lBQ3ZFLEdBQUcsQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDakMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLEtBQVU7UUFDdEMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLElBQU0sUUFBUSxHQUFHLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztR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
