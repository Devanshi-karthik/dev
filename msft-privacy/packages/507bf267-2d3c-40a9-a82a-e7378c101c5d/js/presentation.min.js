(function () {
    'use strict';

    /******************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */

    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    function __awaiter(thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    }

    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    }

    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    }

    var ConsentModelType;
    (function (ConsentModelType) {
        ConsentModelType["Explicit"] = "Explicit";
        ConsentModelType["Implicit"] = "Implicit";
    })(ConsentModelType || (ConsentModelType = {}));
    var PublicEvents;
    (function (PublicEvents) {
        PublicEvents["ConsentChanged"] = "ConsentChanged";
        PublicEvents["ShowConsentNotice"] = "ShowConsentNotice";
        PublicEvents["ShowFirstPage"] = "ShowFirstPage";
        PublicEvents["CloseConsentNotice"] = "CloseConsentNotice";
        PublicEvents["AcceptAll"] = "AcceptAll";
        PublicEvents["RejectAll"] = "RejectAll";
        PublicEvents["ShowTemplate"] = "ShowTemplate";
        PublicEvents["CloseTemplate"] = "CloseTemplate";
        PublicEvents["UpdateConsent"] = "UpdateConsent";
        PublicEvents["AnchorTagClicked"] = "AnchorTagClicked";
        PublicEvents["FetchConfig"] = "FetchConfig";
        PublicEvents["QuestionsFormSubmitWithoutMetaData"] = "QuestionsFormSubmitWithoutMetaData";
        PublicEvents["QuestionsFormSubmit"] = "QuestionsFormSubmit";
        PublicEvents["ShowPreferences"] = "ShowPreferences";
        PublicEvents["ConsentPreference"] = "MSFTConsentPreference";
    })(PublicEvents || (PublicEvents = {}));
    var Events;
    (function (Events) {
        Events["Init"] = "Init";
        Events["CoreConsentModelSelected"] = "CoreConsentModelSelected";
        Events["ConfigReady"] = "ConfigReady";
    })(Events || (Events = {}));
    var SDKMode;
    (function (SDKMode) {
        SDKMode["Default"] = "Default";
        SDKMode["HeadLess"] = "HeadLess";
    })(SDKMode || (SDKMode = {}));
    var StyleType;
    (function (StyleType) {
        StyleType["Url"] = "Url";
        StyleType["Text"] = "Text";
    })(StyleType || (StyleType = {}));
    var Preference;
    (function (Preference) {
        Preference["OFF"] = "0";
        Preference["ON"] = "1";
    })(Preference || (Preference = {}));
    var Cookie;
    (function (Cookie) {
        Cookie["Consent"] = "msft-consent";
    })(Cookie || (Cookie = {}));
    var RegisteredDivType;
    (function (RegisteredDivType) {
        RegisteredDivType["Script"] = "script";
        RegisteredDivType["IFrame"] = "iframe";
    })(RegisteredDivType || (RegisteredDivType = {}));
    var NoticeType;
    (function (NoticeType) {
        NoticeType["TrackerCategory"] = "trackerCategory";
        NoticeType["Questions"] = "Questions";
    })(NoticeType || (NoticeType = {}));
    var ErrorStrings;
    (function (ErrorStrings) {
        ErrorStrings["TemplateError"] = "<b>There is something wrong with template. Please check logs.</b>";
    })(ErrorStrings || (ErrorStrings = {}));
    var IntervalUnits;
    (function (IntervalUnits) {
        IntervalUnits["day"] = "day";
        IntervalUnits["week"] = "week";
        IntervalUnits["month"] = "month";
        IntervalUnits["year"] = "year";
    })(IntervalUnits || (IntervalUnits = {}));
    var QuestionType;
    (function (QuestionType) {
        QuestionType["Text"] = "Text";
        QuestionType["Email"] = "Email";
        QuestionType["Radio"] = "Radio";
        QuestionType["MultiSelect"] = "MultiSelect";
        QuestionType["Select"] = "Select";
        QuestionType["Date"] = "Date";
        QuestionType["PhoneNumber"] = "PhoneNumber";
        QuestionType["CreditCard"] = "CreditCard";
        QuestionType["Number"] = "Number";
        QuestionType["MultiLineText"] = "multiLineText";
    })(QuestionType || (QuestionType = {}));
    var QuestionValidation;
    (function (QuestionValidation) {
        QuestionValidation["Required"] = "Required";
    })(QuestionValidation || (QuestionValidation = {}));
    var QuestionField;
    (function (QuestionField) {
        QuestionField["Question"] = "question";
        QuestionField["Placeholder"] = "placeholder";
        QuestionField["Options"] = "options";
    })(QuestionField || (QuestionField = {}));
    var ModelKind;
    (function (ModelKind) {
        ModelKind["WebConsentModel"] = "WebConsentModel";
        ModelKind["QuestionModel"] = "DSRSubmissionModel";
    })(ModelKind || (ModelKind = {}));
    var PackageKind;
    (function (PackageKind) {
        PackageKind["WebConsentPackage"] = "WebConsentPackage";
        PackageKind["FIDESPackage"] = "FIDESPackage";
        PackageKind["DSRSubmissionPackage"] = "DSRSubmissionPackage";
    })(PackageKind || (PackageKind = {}));
    var Template;
    (function (Template) {
        Template["Preferences"] = "Preferences";
    })(Template || (Template = {}));

    var registerHeplers = function () {
        if (window.Handlebars) {
            window.Handlebars.registerHelper('toLowerCase', function (type) {
                return type.toLowerCase();
            });
            window.Handlebars.registerHelper('equals', function (param1, param2) {
                return param1.toLowerCase() === param2.toLowerCase();
            });
        }
    };

    var TemplateHandler = /** @class */ (function () {
        function TemplateHandler() {
            TemplateHandler.registerShowTemplateHandlers();
        }
        /**
         * Register event handlers to open/close different templates
         */
        TemplateHandler.registerShowTemplateHandlers = function () {
            window.__MSFT_SDK.EventBus.on(window.__MSFT_SDK.enums.PublicEvents.ShowConsentNotice, TemplateHandler.showFirstPage);
            window.__MSFT_SDK.EventBus.on(window.__MSFT_SDK.enums.PublicEvents.CloseConsentNotice, TemplateHandler.hideConsentNotice);
            window.__MSFT_SDK.EventBus.on(window.__MSFT_SDK.enums.Events.Init, TemplateHandler.saveStylesOnInit);
            window.__MSFT_SDK.EventBus.on(window.__MSFT_SDK.enums.PublicEvents.ShowTemplate, TemplateHandler.showTemplate);
            window.__MSFT_SDK.EventBus.on(window.__MSFT_SDK.enums.PublicEvents.CloseTemplate, TemplateHandler.closeTemplate);
            window.__MSFT_SDK.EventBus.on(window.__MSFT_SDK.enums.Events.ConfigReady, TemplateHandler.init);
            window.__MSFT_SDK.EventBus.on(window.__MSFT_SDK.enums.PublicEvents.ShowPreferences, TemplateHandler.showPreferences);
        };
        TemplateHandler.showPreferences = function () {
            try {
                TemplateHandler.showTemplate({ templateId: Template.Preferences });
            }
            catch (e) {
                TemplateHandler.showFirstPage();
            }
        };
        /**
         * Show template
         *
         * @param  {import("core/types/interfaces").IGenericObject} payload payload data
         */
        TemplateHandler.showTemplate = function (_a) {
            var templateId = _a.templateId;
            if (window.__MSFT_SDK.Store.getters.components &&
                window.__MSFT_SDK.Store.getters.components[templateId]) {
                var consentModel = window.__MSFT_SDK.Store.getters.currentModel;
                TemplateHandler.showTemplateInIFrame(window.__MSFT_SDK.Store.getters.components[templateId], templateId, [
                    {
                        type: StyleType.Text,
                        value: (consentModel === null || consentModel === void 0 ? void 0 : consentModel.layout.ui.css) || '',
                    },
                ], TemplateHandler.getParentElement(templateId));
            }
            else {
                throw new Error("Template : ".concat(templateId, " not found."));
            }
        };
        /**
         * Hide template
         *
         * @param  {import("core/types/interfaces").IGenericObject} payload payload data
         */
        TemplateHandler.closeTemplate = function (_a) {
            var templateId = _a.templateId;
            TemplateHandler.closeIFrame(templateId);
        };
        /**
         * Save styles passed by user in window.__MSFT_SDK.Store
         *
         * @param  {import("core/types/interfaces").IInitConfig} config init config
         */
        TemplateHandler.saveStylesOnInit = function (config) {
            if (config.styles) {
                window.__MSFT_SDK.Logger.info('user provided styles persisted to window.__MSFT_SDK.Store.');
                window.__MSFT_SDK.Store.reducers.setStyles(config.styles);
            }
        };
        TemplateHandler.validationArrayToObject = function (validations) {
            return validations.reduce(function (previous, current) {
                var _a;
                return __assign(__assign({}, previous), (_a = {}, _a[current] = true, _a));
            }, {});
        };
        TemplateHandler.getTemplateData = function (consentModel) {
            return __awaiter(this, void 0, void 0, function () {
                var groupedTranslations, questions, data, questionWithOptions, preferences, trackerCategoriesMap, questionsMap, addedQuestions, addedTrackerCategories;
                var _this = this;
                return __generator(this, function (_a) {
                    groupedTranslations = window.__MSFT_SDK.Store.getters.translations;
                    questions = window.__MSFT_SDK.Store.getters.questions;
                    data = {};
                    questionWithOptions = {};
                    data[NoticeType.TrackerCategory] = [];
                    data[NoticeType.Questions] = [];
                    preferences = window.MSFTConsent.getConsent().preferences;
                    trackerCategoriesMap = new Map();
                    questionsMap = new Map();
                    addedQuestions = new Set();
                    addedTrackerCategories = new Set();
                    if (consentModel.kind === ModelKind.WebConsentModel) {
                        window.__MSFT_SDK.Store.getters.bannerTrackerCategories.forEach(function (category) {
                            trackerCategoriesMap.set(category.id, category);
                        });
                    }
                    else if (consentModel.kind === ModelKind.QuestionModel) {
                        questions.forEach(function (question) {
                            questionsMap.set(question.name, question);
                        });
                        data.captcha = consentModel.captcha;
                    }
                    groupedTranslations.forEach(function (groupedTranslation) {
                        return Object.keys(groupedTranslation).forEach(function (namespace) {
                            var _a;
                            var _b, _c, _d, _e, _f;
                            if (namespace === 'model') {
                                data = __assign(__assign({}, data), groupedTranslation[namespace]);
                            }
                            else if (questionsMap.has(namespace) &&
                                !addedQuestions.has(namespace)) {
                                questionWithOptions = __assign(__assign(__assign({}, groupedTranslation[namespace]), questionsMap.get(namespace)), { validations: _this.validationArrayToObject(((_b = questionsMap.get(namespace)) === null || _b === void 0 ? void 0 : _b.validations) || []) });
                                questionWithOptions.validations = __assign(__assign({}, questionWithOptions.validations), _this.validationArrayToObject(((_c = consentModel.questions.find(function (question) { return question.questionName == namespace; })) === null || _c === void 0 ? void 0 : _c.validations) || []));
                                data[NoticeType.Questions].push(questionWithOptions);
                                addedQuestions.add(namespace);
                            }
                            else if (consentModel.kind === ModelKind.QuestionModel) {
                                data = __assign(__assign({}, data), (_a = {}, _a[namespace] = groupedTranslation[namespace], _a));
                            }
                            else if (trackerCategoriesMap.has(namespace) &&
                                !addedTrackerCategories.has(namespace)) {
                                var categoryTranslation = __assign(__assign({}, groupedTranslation[namespace]), { name: (_d = trackerCategoriesMap.get(namespace)) === null || _d === void 0 ? void 0 : _d.categoryName, isEssential: (_e = trackerCategoriesMap.get(namespace)) === null || _e === void 0 ? void 0 : _e.isEssential, isOn: preferences[((_f = trackerCategoriesMap.get(namespace)) === null || _f === void 0 ? void 0 : _f.categoryName) || ''] === '1' });
                                data[NoticeType.TrackerCategory].push(categoryTranslation);
                                addedTrackerCategories.add(namespace);
                            }
                        });
                    });
                    data[NoticeType.TrackerCategory] = __spreadArray(__spreadArray([], __read(data[NoticeType.TrackerCategory].filter(function (category) { return category.isEssential; })), false), __read(data[NoticeType.TrackerCategory].filter(function (category) { return !category.isEssential; })), false);
                    data['msft-script-open'] = '<script>';
                    data['msft-script-close'] = '</script>';
                    window.__MSFT_SDK.Logger.info('getTemplate data invoked', {
                        consentModel: consentModel,
                        data: data,
                    });
                    return [2 /*return*/, __assign(__assign(__assign({}, data), window.__MSFT_SDK.Store.getters.templateData), { consentModel: consentModel })];
                });
            });
        };
        /**
         * Perform all necessary steps like replacing placeholders in
         * templates during init.
         */
        TemplateHandler.init = function () {
            return __awaiter(this, void 0, void 0, function () {
                var consentModel, template, data;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            registerHeplers();
                            if (window.__MSFT_SDK.Store.getters.currentModel === undefined ||
                                window.__MSFT_SDK.Store.getters.template === undefined) {
                                window.__MSFT_SDK.Logger.warn('Cannot call init before config is ready.');
                                return [2 /*return*/];
                            }
                            consentModel = window.__MSFT_SDK.Store.getters.currentModel;
                            template = window.__MSFT_SDK.Store.getters.template;
                            return [4 /*yield*/, TemplateHandler.getTemplateData(consentModel)];
                        case 1:
                            data = _a.sent();
                            template.pages.forEach(function (page) {
                                var _a;
                                var templateString;
                                try {
                                    var template_1 = window.Handlebars.compile(page.css + page.content);
                                    templateString = template_1(data);
                                }
                                catch (e) {
                                    window.__MSFT_SDK.Logger.error(e.message, e);
                                    templateString = ErrorStrings.TemplateError;
                                }
                                window.__MSFT_SDK.Store.reducers.setComponents(__assign(__assign({}, window.__MSFT_SDK.Store.getters.components), (_a = {}, _a[page.name] = templateString, _a)));
                            });
                            window.__MSFT_SDK.Logger.info('Components updated');
                            TemplateHandler.initialized = true;
                            window.__MSFT_SDK.EventBus.on(window.__MSFT_SDK.enums.PublicEvents.ShowFirstPage, TemplateHandler.showFirstPage);
                            return [2 /*return*/];
                    }
                });
            });
        };
        /**
         * Show Consent notice template
         */
        TemplateHandler.showFirstPage = function () {
            return __awaiter(this, void 0, void 0, function () {
                var consentModel, initComponent, template;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (!!TemplateHandler.initialized) return [3 /*break*/, 2];
                            return [4 /*yield*/, TemplateHandler.init()];
                        case 1:
                            _a.sent();
                            _a.label = 2;
                        case 2:
                            consentModel = window.__MSFT_SDK.Store.getters.currentModel;
                            if (consentModel === undefined) {
                                window.__MSFT_SDK.Logger.warn('Cannot call init before consent model is selected.');
                                return [2 /*return*/];
                            }
                            initComponent = window.__MSFT_SDK.Store.getters.startingLayoutPage;
                            if (window.__MSFT_SDK.Store.getters.components === undefined ||
                                initComponent === undefined ||
                                window.__MSFT_SDK.Store.getters.components[initComponent] === undefined) {
                                window.__MSFT_SDK.Logger.error('Notice template not found.');
                                return [2 /*return*/];
                            }
                            template = window.__MSFT_SDK.Store.getters.components[initComponent];
                            TemplateHandler.showTemplateInIFrame(template, initComponent, [
                                {
                                    type: StyleType.Text,
                                    value: consentModel.layout.ui.css || '',
                                },
                            ], TemplateHandler.getParentElement(initComponent));
                            return [2 /*return*/];
                    }
                });
            });
        };
        TemplateHandler.getParentElement = function (templateId) {
            var _a;
            var parentElementId = (((_a = window.__MSFT_SDK.Store.getters.config.initConfig) === null || _a === void 0 ? void 0 : _a.componentParentMap) ||
                window.__MSFT_SDK.Store.getters.templateParentMap)[templateId];
            if (parentElementId) {
                return document.getElementById(parentElementId);
            }
            return null;
        };
        /**
         * Adds template to iframe and append it to dom
         *
         * @param  {string} template template to add
         * @param  {string} iframeId iframe id
         * @param  {window.__MSFT_SDK.interfaces.IStyle[]} styles user provided styles
         * @param  {HTMLElement|null} parentElement if iframe should be added to a specific element instead of body
         */
        TemplateHandler.showTemplateInIFrame = function (template, iframeId, styles, parentElement) {
            var _a, _b;
            if (styles === void 0) { styles = []; }
            var iframeElement = document.getElementById(iframeId);
            if (iframeElement) {
                window.__MSFT_SDK.Logger.info("Template: ".concat(iframeId, " is already open."));
            }
            else {
                if (template === ErrorStrings.TemplateError &&
                    (!window.__MSFT_SDK.Store.getters.isLivePreviewMode ||
                        !window.__MSFT_SDK.Store.getters.isPreviewMode)) {
                    return;
                }
                var data = {
                    origin: window.origin,
                    renderTemplateWithoutIframe: (_a = window.__MSFT_SDK.Store.getters.config.initConfig) === null || _a === void 0 ? void 0 : _a.renderTemplateWithoutIframe,
                    executionContexts: ((_b = window.__MSFT_SDK.Store.getters.config.initConfig) === null || _b === void 0 ? void 0 : _b.executionContexts) || [],
                };
                template =
                    "<script>var msftData = ".concat(JSON.stringify(data), "</script> \n        <script>").concat(window.__MSFT_SDK.Store.getters.proxyJS, "</script>") + template;
                window.__MSFT_SDK.Utils.IFrameUtils.createIFrame(template, iframeId, parentElement, styles);
            }
        };
        /**
         * Hide consent notice iframe
         */
        TemplateHandler.hideConsentNotice = function () {
            var consentModel = window.__MSFT_SDK.Store.getters.currentModel;
            if (consentModel === undefined) {
                window.__MSFT_SDK.Logger.warn('Cannot call hideConsentNotice before consent model is selected.');
                return;
            }
            var initComponent = window.__MSFT_SDK.Store.getters.startingLayoutPage;
            initComponent && TemplateHandler.closeIFrame(initComponent);
        };
        /**
         * Set iframe display to none
         *
         * @param  {string} iframeId id of iframe element
         */
        TemplateHandler.closeIFrame = function (iframeId) {
            var _a;
            var iframeElement = document.getElementById(iframeId);
            (_a = iframeElement === null || iframeElement === void 0 ? void 0 : iframeElement.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(iframeElement);
        };
        TemplateHandler.initialized = false;
        return TemplateHandler;
    }());

    window.onmessage = function (e) { return __awaiter(void 0, void 0, void 0, function () {
        var response;
        var _a;
        var _b;
        return __generator(this, function (_c) {
            switch (_c.label) {
                case 0:
                    if (!(e.origin === 'null')) return [3 /*break*/, 3];
                    if (window.__MSFT_SDK.Store.getters.isActionDisabled &&
                        e.data.method === 'trigger') {
                        return [2 /*return*/];
                    }
                    response = (_a = window.MSFTConsent)[e.data.method].apply(_a, __spreadArray([], __read(e.data.params), false));
                    if (!(response instanceof Promise)) return [3 /*break*/, 2];
                    return [4 /*yield*/, response];
                case 1:
                    response = _c.sent();
                    _c.label = 2;
                case 2:
                    if (e.data.responseId) {
                        (_b = e.source) === null || _b === void 0 ? void 0 : _b.postMessage(__assign(__assign({}, e.data), { response: response }), { targetOrigin: '*' });
                    }
                    _c.label = 3;
                case 3: return [2 /*return*/];
            }
        });
    }); };
    window.__MSFT_SDK.EventBus.on(PublicEvents.AnchorTagClicked, function (_a) {
        var attributes = _a.attributes;
        var aTag = document.createElement('a');
        Object.keys(attributes).forEach(function (attrName) {
            aTag.setAttribute(attrName, attributes[attrName]);
        });
        aTag.click();
    });
    new TemplateHandler();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlc2VudGF0aW9uLm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIi4uLy4uLy4uLy4uLy4uL1NESy9zcmMvY29yZS9jb25zdGFudHMvZW51bXMudHMiLCIuLi8uLi8uLi8uLi8uLi9TREsvc3JjL3ByZXNlbnRhdGlvbi9oYW5kbGViYXJIZWxwZXJzLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcmVzZW50YXRpb24vVGVtcGxhdGVIYW5kbGVyLnRzIiwiLi4vLi4vLi4vLi4vLi4vU0RLL3NyYy9wcmVzZW50YXRpb24vaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsImV4cG9ydCBlbnVtIENvbnNlbnRNb2RlbFR5cGUge1xyXG4gIEV4cGxpY2l0ID0gJ0V4cGxpY2l0JyxcclxuICBJbXBsaWNpdCA9ICdJbXBsaWNpdCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFB1YmxpY0V2ZW50cyB7XHJcbiAgQ29uc2VudENoYW5nZWQgPSAnQ29uc2VudENoYW5nZWQnLFxyXG4gIFNob3dDb25zZW50Tm90aWNlID0gJ1Nob3dDb25zZW50Tm90aWNlJyxcclxuICBTaG93Rmlyc3RQYWdlID0gJ1Nob3dGaXJzdFBhZ2UnLFxyXG4gIENsb3NlQ29uc2VudE5vdGljZSA9ICdDbG9zZUNvbnNlbnROb3RpY2UnLFxyXG4gIEFjY2VwdEFsbCA9ICdBY2NlcHRBbGwnLFxyXG4gIFJlamVjdEFsbCA9ICdSZWplY3RBbGwnLFxyXG4gIFNob3dUZW1wbGF0ZSA9ICdTaG93VGVtcGxhdGUnLFxyXG4gIENsb3NlVGVtcGxhdGUgPSAnQ2xvc2VUZW1wbGF0ZScsXHJcbiAgVXBkYXRlQ29uc2VudCA9ICdVcGRhdGVDb25zZW50JyxcclxuICBBbmNob3JUYWdDbGlja2VkID0gJ0FuY2hvclRhZ0NsaWNrZWQnLFxyXG4gIEZldGNoQ29uZmlnID0gJ0ZldGNoQ29uZmlnJyxcclxuICBRdWVzdGlvbnNGb3JtU3VibWl0V2l0aG91dE1ldGFEYXRhID0gJ1F1ZXN0aW9uc0Zvcm1TdWJtaXRXaXRob3V0TWV0YURhdGEnLFxyXG4gIFF1ZXN0aW9uc0Zvcm1TdWJtaXQgPSAnUXVlc3Rpb25zRm9ybVN1Ym1pdCcsXHJcbiAgU2hvd1ByZWZlcmVuY2VzID0gJ1Nob3dQcmVmZXJlbmNlcycsXHJcbiAgQ29uc2VudFByZWZlcmVuY2UgPSAnTVNGVENvbnNlbnRQcmVmZXJlbmNlJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRXZlbnRzIHtcclxuICBJbml0ID0gJ0luaXQnLFxyXG4gIENvcmVDb25zZW50TW9kZWxTZWxlY3RlZCA9ICdDb3JlQ29uc2VudE1vZGVsU2VsZWN0ZWQnLFxyXG4gIENvbmZpZ1JlYWR5ID0gJ0NvbmZpZ1JlYWR5JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gU0RLTW9kZSB7XHJcbiAgRGVmYXVsdCA9ICdEZWZhdWx0JyxcclxuICBIZWFkTGVzcyA9ICdIZWFkTGVzcycsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFN0eWxlVHlwZSB7XHJcbiAgVXJsID0gJ1VybCcsXHJcbiAgVGV4dCA9ICdUZXh0JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUHJlZmVyZW5jZSB7XHJcbiAgT0ZGID0gJzAnLFxyXG4gIE9OID0gJzEnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBDb29raWUge1xyXG4gIENvbnNlbnQgPSAnbXNmdC1jb25zZW50JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUmVnaXN0ZXJlZERpdlR5cGUge1xyXG4gIFNjcmlwdCA9ICdzY3JpcHQnLFxyXG4gIElGcmFtZSA9ICdpZnJhbWUnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBOb3RpY2VUeXBlIHtcclxuICBUcmFja2VyQ2F0ZWdvcnkgPSAndHJhY2tlckNhdGVnb3J5JyxcclxuICBRdWVzdGlvbnMgPSAnUXVlc3Rpb25zJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gRXJyb3JTdHJpbmdzIHtcclxuICBUZW1wbGF0ZUVycm9yID0gJzxiPlRoZXJlIGlzIHNvbWV0aGluZyB3cm9uZyB3aXRoIHRlbXBsYXRlLiBQbGVhc2UgY2hlY2sgbG9ncy48L2I+JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gSW50ZXJ2YWxVbml0cyB7XHJcbiAgZGF5ID0gJ2RheScsXHJcbiAgd2VlayA9ICd3ZWVrJyxcclxuICBtb250aCA9ICdtb250aCcsXHJcbiAgeWVhciA9ICd5ZWFyJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUXVlc3Rpb25UeXBlIHtcclxuICBUZXh0ID0gJ1RleHQnLFxyXG4gIEVtYWlsID0gJ0VtYWlsJyxcclxuICBSYWRpbyA9ICdSYWRpbycsXHJcbiAgTXVsdGlTZWxlY3QgPSAnTXVsdGlTZWxlY3QnLFxyXG4gIFNlbGVjdCA9ICdTZWxlY3QnLFxyXG4gIERhdGUgPSAnRGF0ZScsXHJcbiAgUGhvbmVOdW1iZXIgPSAnUGhvbmVOdW1iZXInLFxyXG4gIENyZWRpdENhcmQgPSAnQ3JlZGl0Q2FyZCcsXHJcbiAgTnVtYmVyID0gJ051bWJlcicsXHJcbiAgTXVsdGlMaW5lVGV4dCA9ICdtdWx0aUxpbmVUZXh0JyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUXVlc3Rpb25WYWxpZGF0aW9uIHtcclxuICBSZXF1aXJlZCA9ICdSZXF1aXJlZCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFF1ZXN0aW9uRmllbGQge1xyXG4gIFF1ZXN0aW9uID0gJ3F1ZXN0aW9uJyxcclxuICBQbGFjZWhvbGRlciA9ICdwbGFjZWhvbGRlcicsXHJcbiAgT3B0aW9ucyA9ICdvcHRpb25zJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gTW9kZWxLaW5kIHtcclxuICBXZWJDb25zZW50TW9kZWwgPSAnV2ViQ29uc2VudE1vZGVsJyxcclxuICBRdWVzdGlvbk1vZGVsID0gJ0RTUlN1Ym1pc3Npb25Nb2RlbCcsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFBhY2thZ2VLaW5kIHtcclxuICBXZWJDb25zZW50UGFja2FnZSA9ICdXZWJDb25zZW50UGFja2FnZScsXHJcbiAgRklERVNQYWNrYWdlID0gJ0ZJREVTUGFja2FnZScsXHJcbiAgRFNSU3VibWlzc2lvblBhY2thZ2UgPSAnRFNSU3VibWlzc2lvblBhY2thZ2UnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBUZW1wbGF0ZSB7XHJcbiAgUHJlZmVyZW5jZXMgPSAnUHJlZmVyZW5jZXMnLFxyXG59XHJcbiIsImV4cG9ydCBjb25zdCByZWdpc3RlckhlcGxlcnMgPSAoKSA9PiB7XHJcbiAgaWYgKHdpbmRvdy5IYW5kbGViYXJzKSB7XHJcbiAgICB3aW5kb3cuSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigndG9Mb3dlckNhc2UnLCBmdW5jdGlvbiAodHlwZTogc3RyaW5nKSB7XHJcbiAgICAgIHJldHVybiB0eXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cuSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcclxuICAgICAgJ2VxdWFscycsXHJcbiAgICAgIGZ1bmN0aW9uIChwYXJhbTE6IHN0cmluZywgcGFyYW0yOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gcGFyYW0xLnRvTG93ZXJDYXNlKCkgPT09IHBhcmFtMi50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICB9LFxyXG4gICAgKTtcclxuICB9XHJcbn07XHJcbiIsImltcG9ydCB7XHJcbiAgRXJyb3JTdHJpbmdzLFxyXG4gIE1vZGVsS2luZCxcclxuICBOb3RpY2VUeXBlLFxyXG4gIFF1ZXN0aW9uVmFsaWRhdGlvbixcclxuICBTdHlsZVR5cGUsXHJcbiAgVGVtcGxhdGUsXHJcbn0gZnJvbSAnY29yZS9jb25zdGFudHMvZW51bXMnO1xyXG5pbXBvcnQgeyByZWdpc3RlckhlcGxlcnMgfSBmcm9tICcuL2hhbmRsZWJhckhlbHBlcnMnO1xyXG5cclxuY2xhc3MgVGVtcGxhdGVIYW5kbGVyIHtcclxuICBwcml2YXRlIHN0YXRpYyBpbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICBUZW1wbGF0ZUhhbmRsZXIucmVnaXN0ZXJTaG93VGVtcGxhdGVIYW5kbGVycygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnMgdG8gb3Blbi9jbG9zZSBkaWZmZXJlbnQgdGVtcGxhdGVzXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgcmVnaXN0ZXJTaG93VGVtcGxhdGVIYW5kbGVycygpIHtcclxuICAgIHdpbmRvdy5fX01TRlRfU0RLLkV2ZW50QnVzLm9uKFxyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5lbnVtcy5QdWJsaWNFdmVudHMuU2hvd0NvbnNlbnROb3RpY2UsXHJcbiAgICAgIFRlbXBsYXRlSGFuZGxlci5zaG93Rmlyc3RQYWdlLFxyXG4gICAgKTtcclxuICAgIHdpbmRvdy5fX01TRlRfU0RLLkV2ZW50QnVzLm9uKFxyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5lbnVtcy5QdWJsaWNFdmVudHMuQ2xvc2VDb25zZW50Tm90aWNlLFxyXG4gICAgICBUZW1wbGF0ZUhhbmRsZXIuaGlkZUNvbnNlbnROb3RpY2UsXHJcbiAgICApO1xyXG4gICAgd2luZG93Ll9fTVNGVF9TREsuRXZlbnRCdXMub24oXHJcbiAgICAgIHdpbmRvdy5fX01TRlRfU0RLLmVudW1zLkV2ZW50cy5Jbml0LFxyXG4gICAgICBUZW1wbGF0ZUhhbmRsZXIuc2F2ZVN0eWxlc09uSW5pdCxcclxuICAgICk7XHJcbiAgICB3aW5kb3cuX19NU0ZUX1NESy5FdmVudEJ1cy5vbihcclxuICAgICAgd2luZG93Ll9fTVNGVF9TREsuZW51bXMuUHVibGljRXZlbnRzLlNob3dUZW1wbGF0ZSxcclxuICAgICAgVGVtcGxhdGVIYW5kbGVyLnNob3dUZW1wbGF0ZSxcclxuICAgICk7XHJcbiAgICB3aW5kb3cuX19NU0ZUX1NESy5FdmVudEJ1cy5vbihcclxuICAgICAgd2luZG93Ll9fTVNGVF9TREsuZW51bXMuUHVibGljRXZlbnRzLkNsb3NlVGVtcGxhdGUsXHJcbiAgICAgIFRlbXBsYXRlSGFuZGxlci5jbG9zZVRlbXBsYXRlLFxyXG4gICAgKTtcclxuICAgIHdpbmRvdy5fX01TRlRfU0RLLkV2ZW50QnVzLm9uKFxyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5lbnVtcy5FdmVudHMuQ29uZmlnUmVhZHksXHJcbiAgICAgIFRlbXBsYXRlSGFuZGxlci5pbml0LFxyXG4gICAgKTtcclxuICAgIHdpbmRvdy5fX01TRlRfU0RLLkV2ZW50QnVzLm9uKFxyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5lbnVtcy5QdWJsaWNFdmVudHMuU2hvd1ByZWZlcmVuY2VzLFxyXG4gICAgICBUZW1wbGF0ZUhhbmRsZXIuc2hvd1ByZWZlcmVuY2VzLFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhdGljIHNob3dQcmVmZXJlbmNlcygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIFRlbXBsYXRlSGFuZGxlci5zaG93VGVtcGxhdGUoeyB0ZW1wbGF0ZUlkOiBUZW1wbGF0ZS5QcmVmZXJlbmNlcyB9KTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgVGVtcGxhdGVIYW5kbGVyLnNob3dGaXJzdFBhZ2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNob3cgdGVtcGxhdGVcclxuICAgKlxyXG4gICAqIEBwYXJhbSAge2ltcG9ydChcImNvcmUvdHlwZXMvaW50ZXJmYWNlc1wiKS5JR2VuZXJpY09iamVjdH0gcGF5bG9hZCBwYXlsb2FkIGRhdGFcclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyBzaG93VGVtcGxhdGUoeyB0ZW1wbGF0ZUlkIH06IElHZW5lcmljT2JqZWN0KTogdm9pZCB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHdpbmRvdy5fX01TRlRfU0RLLlN0b3JlLmdldHRlcnMuY29tcG9uZW50cyAmJlxyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmNvbXBvbmVudHNbdGVtcGxhdGVJZF1cclxuICAgICkge1xyXG4gICAgICBjb25zdCBjb25zZW50TW9kZWwgPSB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmN1cnJlbnRNb2RlbDtcclxuICAgICAgVGVtcGxhdGVIYW5kbGVyLnNob3dUZW1wbGF0ZUluSUZyYW1lKFxyXG4gICAgICAgIHdpbmRvdy5fX01TRlRfU0RLLlN0b3JlLmdldHRlcnMuY29tcG9uZW50c1t0ZW1wbGF0ZUlkXSxcclxuICAgICAgICB0ZW1wbGF0ZUlkLFxyXG4gICAgICAgIFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogU3R5bGVUeXBlLlRleHQsXHJcbiAgICAgICAgICAgIHZhbHVlOiBjb25zZW50TW9kZWw/LmxheW91dC51aS5jc3MgfHwgJycsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgVGVtcGxhdGVIYW5kbGVyLmdldFBhcmVudEVsZW1lbnQodGVtcGxhdGVJZCksXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFRlbXBsYXRlIDogJHt0ZW1wbGF0ZUlkfSBub3QgZm91bmQuYCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIaWRlIHRlbXBsYXRlXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtpbXBvcnQoXCJjb3JlL3R5cGVzL2ludGVyZmFjZXNcIikuSUdlbmVyaWNPYmplY3R9IHBheWxvYWQgcGF5bG9hZCBkYXRhXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgY2xvc2VUZW1wbGF0ZSh7IHRlbXBsYXRlSWQgfTogSUdlbmVyaWNPYmplY3QpOiB2b2lkIHtcclxuICAgIFRlbXBsYXRlSGFuZGxlci5jbG9zZUlGcmFtZSh0ZW1wbGF0ZUlkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNhdmUgc3R5bGVzIHBhc3NlZCBieSB1c2VyIGluIHdpbmRvdy5fX01TRlRfU0RLLlN0b3JlXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtpbXBvcnQoXCJjb3JlL3R5cGVzL2ludGVyZmFjZXNcIikuSUluaXRDb25maWd9IGNvbmZpZyBpbml0IGNvbmZpZ1xyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIHNhdmVTdHlsZXNPbkluaXQoY29uZmlnOiBhbnkpIHtcclxuICAgIGlmIChjb25maWcuc3R5bGVzKSB7XHJcbiAgICAgIHdpbmRvdy5fX01TRlRfU0RLLkxvZ2dlci5pbmZvKFxyXG4gICAgICAgICd1c2VyIHByb3ZpZGVkIHN0eWxlcyBwZXJzaXN0ZWQgdG8gd2luZG93Ll9fTVNGVF9TREsuU3RvcmUuJyxcclxuICAgICAgKTtcclxuICAgICAgd2luZG93Ll9fTVNGVF9TREsuU3RvcmUucmVkdWNlcnMuc2V0U3R5bGVzKGNvbmZpZy5zdHlsZXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGF0aWMgdmFsaWRhdGlvbkFycmF5VG9PYmplY3QodmFsaWRhdGlvbnM6IFF1ZXN0aW9uVmFsaWRhdGlvbltdKSB7XHJcbiAgICByZXR1cm4gdmFsaWRhdGlvbnMucmVkdWNlKChwcmV2aW91cywgY3VycmVudCkgPT4ge1xyXG4gICAgICByZXR1cm4geyAuLi5wcmV2aW91cywgW2N1cnJlbnRdOiB0cnVlIH07XHJcbiAgICB9LCB7fSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgc3RhdGljIGFzeW5jIGdldFRlbXBsYXRlRGF0YShjb25zZW50TW9kZWw6IElNb2RlbCkge1xyXG4gICAgY29uc3QgZ3JvdXBlZFRyYW5zbGF0aW9ucyA9IHdpbmRvdy5fX01TRlRfU0RLLlN0b3JlLmdldHRlcnMudHJhbnNsYXRpb25zO1xyXG4gICAgY29uc3QgcXVlc3Rpb25zID0gd2luZG93Ll9fTVNGVF9TREsuU3RvcmUuZ2V0dGVycy5xdWVzdGlvbnM7XHJcbiAgICBsZXQgZGF0YTogYW55ID0ge307XHJcbiAgICBsZXQgcXVlc3Rpb25XaXRoT3B0aW9uczogYW55ID0ge307XHJcbiAgICBkYXRhW05vdGljZVR5cGUuVHJhY2tlckNhdGVnb3J5XSA9IFtdO1xyXG4gICAgZGF0YVtOb3RpY2VUeXBlLlF1ZXN0aW9uc10gPSBbXTtcclxuICAgIGNvbnN0IHByZWZlcmVuY2VzID0gd2luZG93Lk1TRlRDb25zZW50LmdldENvbnNlbnQoKS5wcmVmZXJlbmNlcztcclxuICAgIGNvbnN0IHRyYWNrZXJDYXRlZ29yaWVzTWFwID0gbmV3IE1hcDxzdHJpbmcsIElUcmFja2VyQ2F0ZWdvcnk+KCk7XHJcbiAgICBjb25zdCBxdWVzdGlvbnNNYXAgPSBuZXcgTWFwPHN0cmluZywgSVF1ZXN0aW9uPigpO1xyXG4gICAgY29uc3QgYWRkZWRRdWVzdGlvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgIGNvbnN0IGFkZGVkVHJhY2tlckNhdGVnb3JpZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICAgIGlmIChjb25zZW50TW9kZWwua2luZCA9PT0gTW9kZWxLaW5kLldlYkNvbnNlbnRNb2RlbCkge1xyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmJhbm5lclRyYWNrZXJDYXRlZ29yaWVzLmZvckVhY2goXHJcbiAgICAgICAgY2F0ZWdvcnkgPT4ge1xyXG4gICAgICAgICAgdHJhY2tlckNhdGVnb3JpZXNNYXAuc2V0KGNhdGVnb3J5LmlkLCBjYXRlZ29yeSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAoY29uc2VudE1vZGVsLmtpbmQgPT09IE1vZGVsS2luZC5RdWVzdGlvbk1vZGVsKSB7XHJcbiAgICAgIHF1ZXN0aW9ucy5mb3JFYWNoKHF1ZXN0aW9uID0+IHtcclxuICAgICAgICBxdWVzdGlvbnNNYXAuc2V0KHF1ZXN0aW9uLm5hbWUsIHF1ZXN0aW9uKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGRhdGEuY2FwdGNoYSA9IChjb25zZW50TW9kZWwgYXMgSVF1ZXN0aW9uTW9kZWwpLmNhcHRjaGE7XHJcbiAgICB9XHJcbiAgICBncm91cGVkVHJhbnNsYXRpb25zLmZvckVhY2goZ3JvdXBlZFRyYW5zbGF0aW9uID0+XHJcbiAgICAgIE9iamVjdC5rZXlzKGdyb3VwZWRUcmFuc2xhdGlvbikuZm9yRWFjaChuYW1lc3BhY2UgPT4ge1xyXG4gICAgICAgIGlmIChuYW1lc3BhY2UgPT09ICdtb2RlbCcpIHtcclxuICAgICAgICAgIGRhdGEgPSB7IC4uLmRhdGEsIC4uLmdyb3VwZWRUcmFuc2xhdGlvbltuYW1lc3BhY2VdIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgIHF1ZXN0aW9uc01hcC5oYXMobmFtZXNwYWNlKSAmJlxyXG4gICAgICAgICAgIWFkZGVkUXVlc3Rpb25zLmhhcyhuYW1lc3BhY2UpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBxdWVzdGlvbldpdGhPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAuLi5ncm91cGVkVHJhbnNsYXRpb25bbmFtZXNwYWNlXSxcclxuICAgICAgICAgICAgLi4ucXVlc3Rpb25zTWFwLmdldChuYW1lc3BhY2UpLFxyXG4gICAgICAgICAgICB2YWxpZGF0aW9uczogdGhpcy52YWxpZGF0aW9uQXJyYXlUb09iamVjdChcclxuICAgICAgICAgICAgICBxdWVzdGlvbnNNYXAuZ2V0KG5hbWVzcGFjZSk/LnZhbGlkYXRpb25zIHx8IFtdLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBxdWVzdGlvbldpdGhPcHRpb25zLnZhbGlkYXRpb25zID0ge1xyXG4gICAgICAgICAgICAuLi5xdWVzdGlvbldpdGhPcHRpb25zLnZhbGlkYXRpb25zLFxyXG4gICAgICAgICAgICAuLi50aGlzLnZhbGlkYXRpb25BcnJheVRvT2JqZWN0KFxyXG4gICAgICAgICAgICAgIChjb25zZW50TW9kZWwgYXMgSVF1ZXN0aW9uTW9kZWwpLnF1ZXN0aW9ucy5maW5kKFxyXG4gICAgICAgICAgICAgICAgcXVlc3Rpb24gPT4gcXVlc3Rpb24ucXVlc3Rpb25OYW1lID09IG5hbWVzcGFjZSxcclxuICAgICAgICAgICAgICApPy52YWxpZGF0aW9ucyB8fCBbXSxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBkYXRhW05vdGljZVR5cGUuUXVlc3Rpb25zXS5wdXNoKHF1ZXN0aW9uV2l0aE9wdGlvbnMpO1xyXG4gICAgICAgICAgYWRkZWRRdWVzdGlvbnMuYWRkKG5hbWVzcGFjZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb25zZW50TW9kZWwua2luZCA9PT0gTW9kZWxLaW5kLlF1ZXN0aW9uTW9kZWwpIHtcclxuICAgICAgICAgIGRhdGEgPSB7IC4uLmRhdGEsIFtuYW1lc3BhY2VdOiBncm91cGVkVHJhbnNsYXRpb25bbmFtZXNwYWNlXSB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICB0cmFja2VyQ2F0ZWdvcmllc01hcC5oYXMobmFtZXNwYWNlKSAmJlxyXG4gICAgICAgICAgIWFkZGVkVHJhY2tlckNhdGVnb3JpZXMuaGFzKG5hbWVzcGFjZSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGNvbnN0IGNhdGVnb3J5VHJhbnNsYXRpb24gPSB7XHJcbiAgICAgICAgICAgIC4uLmdyb3VwZWRUcmFuc2xhdGlvbltuYW1lc3BhY2VdLFxyXG4gICAgICAgICAgICBuYW1lOiB0cmFja2VyQ2F0ZWdvcmllc01hcC5nZXQobmFtZXNwYWNlKT8uY2F0ZWdvcnlOYW1lLFxyXG4gICAgICAgICAgICBpc0Vzc2VudGlhbDogdHJhY2tlckNhdGVnb3JpZXNNYXAuZ2V0KG5hbWVzcGFjZSk/LmlzRXNzZW50aWFsLFxyXG4gICAgICAgICAgICBpc09uOlxyXG4gICAgICAgICAgICAgIHByZWZlcmVuY2VzW1xyXG4gICAgICAgICAgICAgICAgdHJhY2tlckNhdGVnb3JpZXNNYXAuZ2V0KG5hbWVzcGFjZSk/LmNhdGVnb3J5TmFtZSB8fCAnJ1xyXG4gICAgICAgICAgICAgIF0gPT09ICcxJyxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBkYXRhW05vdGljZVR5cGUuVHJhY2tlckNhdGVnb3J5XS5wdXNoKGNhdGVnb3J5VHJhbnNsYXRpb24pO1xyXG4gICAgICAgICAgYWRkZWRUcmFja2VyQ2F0ZWdvcmllcy5hZGQobmFtZXNwYWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pLFxyXG4gICAgKTtcclxuICAgIGRhdGFbTm90aWNlVHlwZS5UcmFja2VyQ2F0ZWdvcnldID0gW1xyXG4gICAgICAuLi5kYXRhW05vdGljZVR5cGUuVHJhY2tlckNhdGVnb3J5XS5maWx0ZXIoXHJcbiAgICAgICAgKGNhdGVnb3J5OiBhbnkpID0+IGNhdGVnb3J5LmlzRXNzZW50aWFsLFxyXG4gICAgICApLFxyXG4gICAgICAuLi5kYXRhW05vdGljZVR5cGUuVHJhY2tlckNhdGVnb3J5XS5maWx0ZXIoXHJcbiAgICAgICAgKGNhdGVnb3J5OiBhbnkpID0+ICFjYXRlZ29yeS5pc0Vzc2VudGlhbCxcclxuICAgICAgKSxcclxuICAgIF07XHJcbiAgICBkYXRhWydtc2Z0LXNjcmlwdC1vcGVuJ10gPSAnPHNjcmlwdD4nO1xyXG4gICAgZGF0YVsnbXNmdC1zY3JpcHQtY2xvc2UnXSA9ICc8L3NjcmlwdD4nO1xyXG4gICAgd2luZG93Ll9fTVNGVF9TREsuTG9nZ2VyLmluZm8oJ2dldFRlbXBsYXRlIGRhdGEgaW52b2tlZCcsIHtcclxuICAgICAgY29uc2VudE1vZGVsLFxyXG4gICAgICBkYXRhLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi5kYXRhLFxyXG4gICAgICAuLi53aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLnRlbXBsYXRlRGF0YSxcclxuICAgICAgY29uc2VudE1vZGVsLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFBlcmZvcm0gYWxsIG5lY2Vzc2FyeSBzdGVwcyBsaWtlIHJlcGxhY2luZyBwbGFjZWhvbGRlcnMgaW5cclxuICAgKiB0ZW1wbGF0ZXMgZHVyaW5nIGluaXQuXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgaW5pdCgpIHtcclxuICAgIHJlZ2lzdGVySGVwbGVycygpO1xyXG4gICAgaWYgKFxyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmN1cnJlbnRNb2RlbCA9PT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgIHdpbmRvdy5fX01TRlRfU0RLLlN0b3JlLmdldHRlcnMudGVtcGxhdGUgPT09IHVuZGVmaW5lZFxyXG4gICAgKSB7XHJcbiAgICAgIHdpbmRvdy5fX01TRlRfU0RLLkxvZ2dlci53YXJuKCdDYW5ub3QgY2FsbCBpbml0IGJlZm9yZSBjb25maWcgaXMgcmVhZHkuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25zZW50TW9kZWwgPSB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmN1cnJlbnRNb2RlbDtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gd2luZG93Ll9fTVNGVF9TREsuU3RvcmUuZ2V0dGVycy50ZW1wbGF0ZTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgVGVtcGxhdGVIYW5kbGVyLmdldFRlbXBsYXRlRGF0YShjb25zZW50TW9kZWwpO1xyXG4gICAgdGVtcGxhdGUucGFnZXMuZm9yRWFjaChwYWdlID0+IHtcclxuICAgICAgbGV0IHRlbXBsYXRlU3RyaW5nOiBzdHJpbmc7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB3aW5kb3cuSGFuZGxlYmFycy5jb21waWxlKHBhZ2UuY3NzICsgcGFnZS5jb250ZW50KTtcclxuICAgICAgICB0ZW1wbGF0ZVN0cmluZyA9IHRlbXBsYXRlKGRhdGEpO1xyXG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgICAgICB3aW5kb3cuX19NU0ZUX1NESy5Mb2dnZXIuZXJyb3IoZS5tZXNzYWdlLCBlKTtcclxuICAgICAgICB0ZW1wbGF0ZVN0cmluZyA9IEVycm9yU3RyaW5ncy5UZW1wbGF0ZUVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIHdpbmRvdy5fX01TRlRfU0RLLlN0b3JlLnJlZHVjZXJzLnNldENvbXBvbmVudHMoe1xyXG4gICAgICAgIC4uLndpbmRvdy5fX01TRlRfU0RLLlN0b3JlLmdldHRlcnMuY29tcG9uZW50cyxcclxuICAgICAgICBbcGFnZS5uYW1lXTogdGVtcGxhdGVTdHJpbmcsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuX19NU0ZUX1NESy5Mb2dnZXIuaW5mbygnQ29tcG9uZW50cyB1cGRhdGVkJyk7XHJcbiAgICBUZW1wbGF0ZUhhbmRsZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgd2luZG93Ll9fTVNGVF9TREsuRXZlbnRCdXMub24oXHJcbiAgICAgIHdpbmRvdy5fX01TRlRfU0RLLmVudW1zLlB1YmxpY0V2ZW50cy5TaG93Rmlyc3RQYWdlLFxyXG4gICAgICBUZW1wbGF0ZUhhbmRsZXIuc2hvd0ZpcnN0UGFnZSxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTaG93IENvbnNlbnQgbm90aWNlIHRlbXBsYXRlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgYXN5bmMgc2hvd0ZpcnN0UGFnZSgpIHtcclxuICAgIGlmICghVGVtcGxhdGVIYW5kbGVyLmluaXRpYWxpemVkKSB7XHJcbiAgICAgIGF3YWl0IFRlbXBsYXRlSGFuZGxlci5pbml0KCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb25zZW50TW9kZWwgPSB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmN1cnJlbnRNb2RlbDtcclxuICAgIGlmIChjb25zZW50TW9kZWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5Mb2dnZXIud2FybihcclxuICAgICAgICAnQ2Fubm90IGNhbGwgaW5pdCBiZWZvcmUgY29uc2VudCBtb2RlbCBpcyBzZWxlY3RlZC4nLFxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbml0Q29tcG9uZW50ID0gd2luZG93Ll9fTVNGVF9TREsuU3RvcmUuZ2V0dGVycy5zdGFydGluZ0xheW91dFBhZ2U7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmNvbXBvbmVudHMgPT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICBpbml0Q29tcG9uZW50ID09PSB1bmRlZmluZWQgfHxcclxuICAgICAgd2luZG93Ll9fTVNGVF9TREsuU3RvcmUuZ2V0dGVycy5jb21wb25lbnRzW2luaXRDb21wb25lbnRdID09PSB1bmRlZmluZWRcclxuICAgICkge1xyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5Mb2dnZXIuZXJyb3IoJ05vdGljZSB0ZW1wbGF0ZSBub3QgZm91bmQuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHRlbXBsYXRlID0gd2luZG93Ll9fTVNGVF9TREsuU3RvcmUuZ2V0dGVycy5jb21wb25lbnRzW2luaXRDb21wb25lbnRdO1xyXG5cclxuICAgIFRlbXBsYXRlSGFuZGxlci5zaG93VGVtcGxhdGVJbklGcmFtZShcclxuICAgICAgdGVtcGxhdGUsXHJcbiAgICAgIGluaXRDb21wb25lbnQsXHJcbiAgICAgIFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0eXBlOiBTdHlsZVR5cGUuVGV4dCxcclxuICAgICAgICAgIHZhbHVlOiBjb25zZW50TW9kZWwubGF5b3V0LnVpLmNzcyB8fCAnJyxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgICBUZW1wbGF0ZUhhbmRsZXIuZ2V0UGFyZW50RWxlbWVudChpbml0Q29tcG9uZW50KSxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBnZXRQYXJlbnRFbGVtZW50KHRlbXBsYXRlSWQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcbiAgICBjb25zdCBwYXJlbnRFbGVtZW50SWQgPSAod2luZG93Ll9fTVNGVF9TREsuU3RvcmUuZ2V0dGVycy5jb25maWcuaW5pdENvbmZpZ1xyXG4gICAgICA/LmNvbXBvbmVudFBhcmVudE1hcCB8fFxyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLnRlbXBsYXRlUGFyZW50TWFwKVt0ZW1wbGF0ZUlkXTtcclxuICAgIGlmIChwYXJlbnRFbGVtZW50SWQpIHtcclxuICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudEVsZW1lbnRJZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgdGVtcGxhdGUgdG8gaWZyYW1lIGFuZCBhcHBlbmQgaXQgdG8gZG9tXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHRlbXBsYXRlIHRlbXBsYXRlIHRvIGFkZFxyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaWZyYW1lSWQgaWZyYW1lIGlkXHJcbiAgICogQHBhcmFtICB7d2luZG93Ll9fTVNGVF9TREsuaW50ZXJmYWNlcy5JU3R5bGVbXX0gc3R5bGVzIHVzZXIgcHJvdmlkZWQgc3R5bGVzXHJcbiAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR8bnVsbH0gcGFyZW50RWxlbWVudCBpZiBpZnJhbWUgc2hvdWxkIGJlIGFkZGVkIHRvIGEgc3BlY2lmaWMgZWxlbWVudCBpbnN0ZWFkIG9mIGJvZHlcclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyBzaG93VGVtcGxhdGVJbklGcmFtZShcclxuICAgIHRlbXBsYXRlOiBzdHJpbmcsXHJcbiAgICBpZnJhbWVJZDogc3RyaW5nLFxyXG4gICAgc3R5bGVzOiBJU3R5bGVbXSA9IFtdLFxyXG4gICAgcGFyZW50RWxlbWVudD86IEhUTUxFbGVtZW50IHwgbnVsbCxcclxuICApIHtcclxuICAgIGNvbnN0IGlmcmFtZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZnJhbWVJZCk7XHJcbiAgICBpZiAoaWZyYW1lRWxlbWVudCkge1xyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5Mb2dnZXIuaW5mbyhgVGVtcGxhdGU6ICR7aWZyYW1lSWR9IGlzIGFscmVhZHkgb3Blbi5gKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICB0ZW1wbGF0ZSA9PT0gRXJyb3JTdHJpbmdzLlRlbXBsYXRlRXJyb3IgJiZcclxuICAgICAgICAoIXdpbmRvdy5fX01TRlRfU0RLLlN0b3JlLmdldHRlcnMuaXNMaXZlUHJldmlld01vZGUgfHxcclxuICAgICAgICAgICF3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmlzUHJldmlld01vZGUpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIG9yaWdpbjogd2luZG93Lm9yaWdpbixcclxuICAgICAgICByZW5kZXJUZW1wbGF0ZVdpdGhvdXRJZnJhbWU6XHJcbiAgICAgICAgICB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmNvbmZpZy5pbml0Q29uZmlnXHJcbiAgICAgICAgICAgID8ucmVuZGVyVGVtcGxhdGVXaXRob3V0SWZyYW1lLFxyXG4gICAgICAgIGV4ZWN1dGlvbkNvbnRleHRzOlxyXG4gICAgICAgICAgd2luZG93Ll9fTVNGVF9TREsuU3RvcmUuZ2V0dGVycy5jb25maWcuaW5pdENvbmZpZ1xyXG4gICAgICAgICAgICA/LmV4ZWN1dGlvbkNvbnRleHRzIHx8IFtdLFxyXG4gICAgICB9O1xyXG4gICAgICB0ZW1wbGF0ZSA9XHJcbiAgICAgICAgYDxzY3JpcHQ+dmFyIG1zZnREYXRhID0gJHtKU09OLnN0cmluZ2lmeShkYXRhKX08L3NjcmlwdD4gXHJcbiAgICAgICAgPHNjcmlwdD4ke3dpbmRvdy5fX01TRlRfU0RLLlN0b3JlLmdldHRlcnMucHJveHlKU308L3NjcmlwdD5gICsgdGVtcGxhdGU7XHJcbiAgICAgIHdpbmRvdy5fX01TRlRfU0RLLlV0aWxzLklGcmFtZVV0aWxzLmNyZWF0ZUlGcmFtZShcclxuICAgICAgICB0ZW1wbGF0ZSxcclxuICAgICAgICBpZnJhbWVJZCxcclxuICAgICAgICBwYXJlbnRFbGVtZW50LFxyXG4gICAgICAgIHN0eWxlcyxcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhpZGUgY29uc2VudCBub3RpY2UgaWZyYW1lXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgaGlkZUNvbnNlbnROb3RpY2UoKSB7XHJcbiAgICBjb25zdCBjb25zZW50TW9kZWwgPSB3aW5kb3cuX19NU0ZUX1NESy5TdG9yZS5nZXR0ZXJzLmN1cnJlbnRNb2RlbDtcclxuICAgIGlmIChjb25zZW50TW9kZWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB3aW5kb3cuX19NU0ZUX1NESy5Mb2dnZXIud2FybihcclxuICAgICAgICAnQ2Fubm90IGNhbGwgaGlkZUNvbnNlbnROb3RpY2UgYmVmb3JlIGNvbnNlbnQgbW9kZWwgaXMgc2VsZWN0ZWQuJyxcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5pdENvbXBvbmVudCA9IHdpbmRvdy5fX01TRlRfU0RLLlN0b3JlLmdldHRlcnMuc3RhcnRpbmdMYXlvdXRQYWdlO1xyXG5cclxuICAgIGluaXRDb21wb25lbnQgJiYgVGVtcGxhdGVIYW5kbGVyLmNsb3NlSUZyYW1lKGluaXRDb21wb25lbnQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGlmcmFtZSBkaXNwbGF5IHRvIG5vbmVcclxuICAgKlxyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gaWZyYW1lSWQgaWQgb2YgaWZyYW1lIGVsZW1lbnRcclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyBjbG9zZUlGcmFtZShpZnJhbWVJZDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBpZnJhbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWZyYW1lSWQpO1xyXG4gICAgaWZyYW1lRWxlbWVudD8ucGFyZW50RWxlbWVudD8ucmVtb3ZlQ2hpbGQoaWZyYW1lRWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZW1wbGF0ZUhhbmRsZXI7XHJcbiIsImltcG9ydCB7IFB1YmxpY0V2ZW50cyB9IGZyb20gJ2NvcmUvY29uc3RhbnRzL2VudW1zJztcclxuaW1wb3J0IFRlbXBsYXRlSGFuZGxlciBmcm9tICcuL1RlbXBsYXRlSGFuZGxlcic7XHJcblxyXG53aW5kb3cub25tZXNzYWdlID0gYXN5bmMgZSA9PiB7XHJcbiAgaWYgKGUub3JpZ2luID09PSAnbnVsbCcpIHtcclxuICAgIGlmIChcclxuICAgICAgd2luZG93Ll9fTVNGVF9TREsuU3RvcmUuZ2V0dGVycy5pc0FjdGlvbkRpc2FibGVkICYmXHJcbiAgICAgIGUuZGF0YS5tZXRob2QgPT09ICd0cmlnZ2VyJ1xyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCByZXNwb25zZSA9ICh3aW5kb3cuTVNGVENvbnNlbnQgYXMgYW55KVtlLmRhdGEubWV0aG9kXSguLi5lLmRhdGEucGFyYW1zKTtcclxuICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcclxuICAgICAgcmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZTtcclxuICAgIH1cclxuICAgIGlmIChlLmRhdGEucmVzcG9uc2VJZCkge1xyXG4gICAgICBlLnNvdXJjZT8ucG9zdE1lc3NhZ2UoeyAuLi5lLmRhdGEsIHJlc3BvbnNlIH0sIHsgdGFyZ2V0T3JpZ2luOiAnKicgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxud2luZG93Ll9fTVNGVF9TREsuRXZlbnRCdXMub24oXHJcbiAgUHVibGljRXZlbnRzLkFuY2hvclRhZ0NsaWNrZWQsXHJcbiAgKHsgYXR0cmlidXRlcyB9KSA9PiB7XHJcbiAgICBjb25zdCBhVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChhdHRyTmFtZSA9PiB7XHJcbiAgICAgIGFUYWcuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyaWJ1dGVzW2F0dHJOYW1lXSk7XHJcbiAgICB9KTtcclxuICAgIGFUYWcuY2xpY2soKTtcclxuICB9LFxyXG4pO1xyXG5cclxubmV3IFRlbXBsYXRlSGFuZGxlcigpO1xyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBQUE7SUFDQTtBQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQWlCQTtJQUNPLElBQUksUUFBUSxHQUFHLFdBQVc7SUFDakMsSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLE1BQU0sSUFBSSxTQUFTLFFBQVEsQ0FBQyxDQUFDLEVBQUU7SUFDckQsUUFBUSxLQUFLLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUM3RCxZQUFZLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0IsWUFBWSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6RixTQUFTO0lBQ1QsUUFBUSxPQUFPLENBQUMsQ0FBQztJQUNqQixNQUFLO0lBQ0wsSUFBSSxPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzNDLEVBQUM7QUE0QkQ7SUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7SUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDaEgsSUFBSSxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7SUFDL0QsUUFBUSxTQUFTLFNBQVMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0lBQ25HLFFBQVEsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0lBQ3RHLFFBQVEsU0FBUyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsTUFBTSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFFO0lBQ3RILFFBQVEsSUFBSSxDQUFDLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFVBQVUsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzlFLEtBQUssQ0FBQyxDQUFDO0lBQ1AsQ0FBQztBQUNEO0lBQ08sU0FBUyxXQUFXLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtJQUMzQyxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDckgsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxNQUFNLEtBQUssVUFBVSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsV0FBVyxFQUFFLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM3SixJQUFJLFNBQVMsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLE9BQU8sVUFBVSxDQUFDLEVBQUUsRUFBRSxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3RFLElBQUksU0FBUyxJQUFJLENBQUMsRUFBRSxFQUFFO0lBQ3RCLFFBQVEsSUFBSSxDQUFDLEVBQUUsTUFBTSxJQUFJLFNBQVMsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0lBQ3RFLFFBQVEsT0FBTyxDQUFDLEVBQUUsSUFBSTtJQUN0QixZQUFZLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pLLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwRCxZQUFZLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QixnQkFBZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsTUFBTTtJQUM5QyxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQ3hFLGdCQUFnQixLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO0lBQ2pFLGdCQUFnQixLQUFLLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxTQUFTO0lBQ2pFLGdCQUFnQjtJQUNoQixvQkFBb0IsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRTtJQUNoSSxvQkFBb0IsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtJQUMxRyxvQkFBb0IsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtB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
